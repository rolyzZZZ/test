<!DOCTYPE html>
<html lang="zh">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title></title>
	</head>
	<body>
		<button type="button" id="but">点击创建</button>
		
		
		<script type="text/javascript">
			var $but = document.getElementById('but');
			
			// var creatAlert = (function (){
			// 	var oDiv;
			// 	return function(text){
			// 		if(oDiv){
			// 			return oDiv;
			// 		}
			// 		oDiv = document.createElement('div');
			// 		oDiv.style.display = 'none';
			// 		oDiv.innerText = text;
			// 		return oDiv;
			// 	}
			// })();
			
			// 封装单例模式
			var getSingle = function (func){
				var result;
				return function (){
					if(!result){
						result = func.apply(this, arguments);
					}
					return result;
				}
			}
			
			var creatAlert = function (text){
				var oDiv = document.createElement('div');
				oDiv.style.display = 'none';
				oDiv.innerText = text;
				document.body.appendChild(oDiv);
				return oDiv;
			}
			var singleAler = getSingle(creatAlert);
			
			$but.onclick = function (){
				var oDiv = singleAler('ww');
				oDiv.style.display = 'block';
			}
			
			
			function test(num){
				function s(){
					num ++;
					console.log(num);
				}
				return s
			}
			for(var i = 0; i < 10; i++){
				test(i)()
			}
			
		</script>
	</body>
</html>
